var flipCounter=function(C,b){var m={value:0,inc:1,pace:1000,auto:true,debug:false};var u=b||{},q=C&&C!=""?"#"+C:"#counter";for(var a in m){u[a]=(a in u)?u[a]:m[a]}var D=22,h=36,z=30,c=[],E=[],A,g,l,j,k=null;this.setValue=function(d){if(n(d)){l=u.value.toString();j=d.toString();u.value=d;i(l,j)}return this};this.setIncrement=function(d){u.inc=n(d)?d:m.inc;return this};this.setPace=function(d){u.pace=n(d)?d:m.pace;return this};this.setAuto=function(d){if(d&&!u.atuo){u.auto=true;e()}if(!d&&u.auto){if(k){r()}u.auto=false}return this};this.step=function(){if(!u.auto){e()}return this};this.add=function(d){if(n(d)){l=u.value.toString();u.value+=d;j=u.value.toString();i(l,j)}return this};this.subtract=function(d){if(n(d)){l=u.value.toString();u.value-=d;if(u.value>=0){j=u.value.toString()}else{j="0";u.value=0}i(l,j)}return this};this.incrementTo=function(F,N,y){if(k){r()}if(typeof N!="undefined"){var G=n(N)?N*1000:10000,d=typeof y!="undefined"&&n(y)?y:u.pace,M=typeof F!="undefined"&&n(F)?F-u.value:0,J,H,o,L,x,K=0,I={pace:0,inc:0};d=(G/M>d)?Math.round((G/M)/10)*10:d;J=Math.floor(G/d);H=Math.round(M/J);o=Math.abs(M-(J*H))+Math.abs(J*d-G);x=B(M,J,H,d,G);if(M>0){while(x.result===false&&K<100){d+=10;J=Math.floor(G/d);H=Math.round(M/J);L=Math.abs(M-(J*H))+Math.abs(J*d-G);x=B(M,J,H,d,G);if(L<o){o=L;I.pace=d;I.inc=H}K++}if(K==100){u.inc=I.inc;u.pace=I.pace}else{u.inc=H;u.pace=d}w(F,true,J)}}else{w(F)}};this.getValue=function(){return u.value};this.stop=function(){if(k){r()}return this};function e(){l=u.value.toString();u.value+=u.inc;j=u.value.toString();i(l,j);if(u.auto===true){k=setTimeout(e,u.pace)}}function w(G,d,F){var y=u.value,x=(typeof d=="undefined")?false:d,o=(typeof F=="undefined")?1:F;if(x===true){o--}if(y!=G){l=u.value.toString(),u.auto=true;if(y+u.inc<=G&&o!=0){y+=u.inc}else{y=G}u.value=y;j=u.value.toString();i(l,j);k=setTimeout(function(){w(G,x,o)},u.pace)}else{u.auto=false}}function i(d,H){c=s(d);E=s(H);if(H.length>d.length){var G=H.length-d.length;while(G>0){var o=1;p(H.length-G+1,E[H.length-G]);o++;G--}}if(H.length<d.length){var G=d.length-H.length;while(G>0){var o=1;t(d.length-G);G--}}for(var F=0;F<c.length;F++){if(E[F]!=c[F]){f(F,c[F],E[F])}}}function f(I,G,d){var H,F=0,o,y=["-"+z+"px -"+(G*D)+"px",(z*-2)+"px -"+(G*D)+"px","0 -"+(d*D)+"px","-"+z+"px -"+(G*h)+"px",(z*-2)+"px -"+(d*h)+"px",(z*-3)+"px -"+(d*h)+"px","0 -"+(d*h)+"px"];if(u.auto===true&&u.pace<=300){switch(I){case 0:H=u.pace/6;break;case 1:H=u.pace/5;break;case 2:H=u.pace/4;break;case 3:H=u.pace/3;break;default:H=u.pace/2;break}}else{H=80}H=(H>80)?80:H;function x(){if(F<7){o=F<3?"t":"b";jQuery(q+" #d"+I+" li."+o).css("background-position",y[F]);F++;if(F!=3){setTimeout(x,H)}else{x()}}}x()}function s(d){var x=new Array();for(var o=0;o<d.length;o++){A=d.length-(o+1);g=d.length-o;x[o]=d.substring(A,g)}return x}function p(o,x){var d=Number(o)-1;if(d%3==0){jQuery(q).prepend('<ul class="cd"><li class="s"></li></ul>')}jQuery(q).prepend('<ul class="cd" id="d'+d+'"><li class="t"></li><li class="b"></li></ul>');jQuery(q+" #d"+d+" li.t").css({"background-position":"0 -"+(x*D)+"px"});jQuery(q+" #d"+d+" li.b").css({"background-position":"0 -"+(x*h)+"px"})}function t(o){jQuery(q+" #d"+o).remove();var d=jQuery(q+" li").first();if(d.hasClass("s")){d.parent("ul").remove()}}function v(d){var x=d.toString().length;var F=1;for(var o=0;o<x;o++){jQuery(q).prepend('<ul class="cd" id="d'+o+'"><li class="t"></li><li class="b"></li></ul>');if(F!=(x)&&F%3==0){jQuery(q).prepend('<ul class="cd"><li class="s"></li></ul>')}F++}var y=s(d.toString());for(var o=0;o<x;o++){jQuery(q+" #d"+o+" li.t").css({"background-position":"0 -"+(y[o]*D)+"px"});jQuery(q+" #d"+o+" li.b").css({"background-position":"0 -"+(y[o]*h)+"px"})}if(u.auto===true){k=setTimeout(e,u.pace)}}function B(G,F,y,H,x){var o={result:true};o.cond1=(G/F>=1)?true:false;o.cond2=(F*y<=G)?true:false;o.cond3=(Math.abs(F*y-G)<=5)?true:false;o.cond4=(Math.abs(F*H-x)<=100)?true:false;o.cond5=(F*H<=x)?true:false;for(var d=1;d<=5;d++){if(o["cond"+d]===false){o.result=false}}return o}function n(d){return !isNaN(parseFloat(d))&&isFinite(d)}function r(){clearTimeout(k);k=null}v(u.value)};