function setSlider(q){var l=false;q.css("overflow","hidden");if(q.find(".sct").length==0){q.children().wrapAll('<\div class="sct"> /')}var r=q.find(".sct").height()-q.height();q.data("difference",r);if(r<=0&&q.find(".slider-wrap").length>0){q.find(".slider-wrap").remove();q.find(".sct").css({top:0})}if(r>0){var p=r/q.find(".sct").height();var m=Math.round((1-p)*q.height());m-=m%2;var s=q.find(".sct").position();var o=100*(1-Math.abs(s.top)/r);if(q.find(".slider-wrap").length==0){q.append('<\div class="slider-wrap"><\div class="slider-vertical"></div></div>');o=100}q.find(".slider-wrap").height(q.height());q.find(".slider-vertical").slider({orientation:"vertical",min:0,max:100,range:"min",value:o,slide:function(c,b){var a=-((100-b.value)*r/100);q.find(".sct").css({top:a});$("ui-slider-range").height(b.value+"%")},change:function(c,b){var a=-((100-b.value)*(q.find(".sct").height()-q.height())/100);q.find(".sct").css({top:a});$("ui-slider-range").height(b.value+"%");if(b.value<20&&onloadFn&&onloadFn=="fav"&&!favpajax&&nextpfav>0){removefav(nextpfav);setSlider($("#favlst"))}}});q.find(".ui-slider-handle").css({height:m,"margin-bottom":-0.5*m});var k=q.height();var n=k-m;var t=(k-n)*0.5;q.find(".ui-slider").css({height:n,"margin-top":t});q.find(".ui-slider-range").css({bottom:-t});if(l){$(".ui-slider-handle").append('<img class="scrollbar-top" src="/images/misc/scrollbar-handle-top.png"/>');$(".ui-slider-handle").append('<img class="scrollbar-bottom" src="/images/misc/scrollbar-handle-bottom.png"/>');$(".ui-slider-handle").append('<img class="scrollbar-grip" src="/images/misc/scrollbar-handle-grip.png"/>')}}$(".ui-slider").click(function(a){a.stopPropagation()});$(".slider-wrap").click(function(a){var b=$(this).offset().top;var c=(a.pageY-b)*100/$(this).height();$(this).find(".slider-vertical").slider("value",100-c)});if($.fn.mousewheel){q.unmousewheel();q.mousewheel(function(c,d){var a=Math.round(5000/q.data("difference"));if(a<1){a=1}if(a>100){a=100}var b=$(this).find(".slider-vertical").slider("value");b+=(d*a);$(this).find(".slider-vertical").slider("value",b);c.preventDefault()})}};